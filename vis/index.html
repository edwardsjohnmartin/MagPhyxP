<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>MagPhyx States</title>
        <!--script src="https://d3js.org/d3.v5.min.js"></script-->
        <script src="d3.js"></script>
        <script src="FileSaver.min.js"></script>

        <link rel="stylesheet"  href="style.css">
	<!--style type="text/css"></style-->
        <!--style>
          rect.bar {
          /*fill: #9f009f;*/
            stroke-width: 0;
          }
        </style-->
    </head>
    <body id="body" onload="init()">
      <div>
        <table><tr><td>
              <!--br>Click on a state to see its behavior.
              <br><br-->
              <u>All plots</u>
              <br>
              <input type="checkbox" id="unique_states" value="Bike"
                     onchange="uniqueStatesChanged()">
              <label for="unique_states">Unique states only</label>
              <br>
              <input type="checkbox" id="equal_states" value="Bike"
                     onchange="equalStatesChanged()">
              <label for="equal_states">Equal states only</label>
            </td>

            <td>
              <u><a id="state_plot_label">State plot</a></u>
              <br>
              Num bounces filter:
              <!--input type="text" id="bounces_filter" oninput="bouncesFilterChanged()" size="30" value="1-3,5,7,11,17,23,31,61,997"/-->
              <input type="text" id="bounces_filter" oninput="bouncesFilterChanged()" size="30" value="1"/>
              <br>
              Rocking number filter:
              <input type="text" id="rocking_filter" oninput="rockingFilterChanged()" size="12" value=""/>
              <br>

              Phase filter:
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="phaseFilter"
                                             id="outphase" value="0"
                                             onchange="phaseFilterChanged()">
              <label for="outphase">Out of phase</label>
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="phaseFilter"
                                             id="inphase" value="1"
                                             onchange="phaseFilterChanged()">

              <label for="inphase">In phase</label>
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="phaseFilter"
                                             id="allphase" value="-1" checked
                                             onchange="phaseFilterChanged()">
              <label for="allphase">All</label>

              <br>
              E (min,max):
              (<input type="text" id="minE" oninput="minEChanged()"
                      size="5" value="-0.35"/>,
              <input type="text" id="maxE" oninput="maxEChanged()"
                     size="5" value="0"/>)
              <br>
              E delta:
              <input type="text" id="deltaE" oninput="deltaEChanged()"
                      size="5" value="0.05"/>
              <br>
              <br>
            </td>
            <td>
              <u>Spiderweb plot</u>
              <br>
              Num bounces filter:
              <!--input type="text" id="wbounces_filter" oninput="wbouncesFilterChanged()" size="30" value="1-3,5,7,11,17,29,41,61,997"/-->
              <!--input type="text" id="wbounces_filter" oninput="wbouncesFilterChanged()" size="30" value="1-7,9,11,13,15,19,23,27,31,39,47,55,63,79,95,111,127,157,997"/-->
              <input type="text" id="wbounces_filter" oninput="wbouncesFilterChanged()" size="30" value="1-7,9,11,13,15,19,23,27,31,39,47,55,63,79,111,157,997"/>

              <br>
              Max T:
              <input type="text" id="maxT" oninput="maxTChanged()" size="10" value="49.458"/>
              <br>
              Lines:
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="spiderLines"
                                             id="bouncesLines" value="0" checked
                                             onchange="spiderLinesChanged()">
              <label for="bouncesLines">Number of bounces</label>
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="spiderLines"
                                             id="rockingLines" value="1"
                                             onchange="spiderLinesChanged()">
              <label for="rockingLines">Rocking number</label>
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="spiderLines"
                                             id="allLines" value="2"
                                             onchange="spiderLinesChanged()">
              <label for="allLines">All</label>
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="spiderLines"
                                             id="noneLines" value="3"
                                             onchange="spiderLinesChanged()">
              <label for="noneLines">None</label>
              <br>

              <!--br>
              Rocking number filter:
              <input type="text" id="rocking_filter" oninput="rockingFilterChanged()" size="12" value=""/>
              <br>

              Phase filter:
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="phaseFilter"
                                             id="outphase" value="0"
                                             onchange="phaseFilterChanged()">
              <label for="outphase">out of phase</label>
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="phaseFilter"
                                             id="inphase" value="1"
                                             onchange="phaseFilterChanged()">

              <label for="inphase">in phase</label>
              <br>

              &nbsp;&nbsp;&nbsp;&nbsp;<input type="radio" name="phaseFilter"
                                             id="allphase" value="-1" checked
                                             onchange="phaseFilterChanged()">
              <label for="allphase">all</label-->

              <br><br>
            </td>
            <td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>
              <div id="details"></div>
        </table>
      </div>

      <br>
      <div class="legend"></div>
      <br>

      <svg width="800" height="700" id="states_svg"></svg>
      <svg width="800" height="700" id="spider_web_svg"></svg>

      <script src="main.js?`2"></script>
      <script src="spiderWeb.js?2"></script>
      <div id="epos">
        E position
      </div>
      <br>
      Press 's' to save an svg of the state plot
      <br>
      Press 'w' to save an svg of the spider web plot
      <br>
    </body>
</html>
